<!DOCTYPE html>
<html ng-app="toDoList" ng-cloak>
	<head>
		<meta charset="utf-8">
		<title>To do list of comments </title>
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Angular Library -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.5/angular.min.js"></script>

		<!-- Angular Material Library -->
		<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.js"></script>

		<!-- Angular Material style sheet -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.8/angular-material.min.css">

		<!-- Angular Material requires Angular.js Libraries -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular-animate.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular-aria.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.5/angular-messages.min.js"></script>

		<!-- Angular Material icons -->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		<link rel="icon" type="image/x-icon" href="src/favicon.ico">  

		<link rel="stylesheet" href="src/styles.css">

		<script src="src/app.module.js"></script>
		<script src="src/app/home/home.constant.js"></script>
		<script src="src/app/home/home.factory.js"></script>
		<script src="src/app/home/home.controller.js"></script>

	</head>
	<body ng-controller="listComments as ctrl">
		<div id="listCommentsForms">
			<h1>The first flight before the project WKL-GLA</h1>
			<form name="form.frm">
				<md-input-container class="md-input-has-placeholder">
					<label>Login:</label>
					<input id="text" name="user" ng-model="ctrl.activeComment.name" placeholder="Write your name" ng-minlength="3" required>
					<div ng-messages="form.frm.user.$error">
						<div ng-message="required">You did not enter a field</div>
						<div ng-message="minlength">Your field is too short</div>
					</div>
				</md-input-container>
				<md-input-container class="md-input-has-placeholder">
					<label>Comment:</label>
					<textarea id="text" name="comment" ng-model="ctrl.activeComment.comment" placeholder="Write your comment" ng-minlength="5" required></textarea>
					<div ng-messages="form.frm.comment.$error">
						<div ng-message="required">You did not enter a field</div>
						<div ng-message="minlength">Your field is too short</div>
					</div>
				</md-input-container>
				<md-button class="md-raised md-primary" ng-click="ctrl.addComment()" ng-disabled="frm.$invalid" ng-if="ctrl.hideButtonAdd">Add comment</md-button>
				<md-button class="md-raised md-primary" ng-click="ctrl.saveComment()" ng-if="ctrl.hideButtonSave">Save comment</md-button>
				<md-button class="md-raised md-primary" ng-click="ctrl.showComments()" ng-if="ctrl.hideButtonShow">Show comments</md-button>
				<md-button class="md-raised md-primary" ng-click="ctrl.archived()">Archived</md-button>
			</form>
		</div>
		<div id="listComments">
			<table>
			<tr ng-repeat="comment in comments | filter:ctrl.status.bind(this) track by $index">
				<td>
					<md-button class="md-mini button" ng-click="ctrl.archiveComment(comment)" ng-hide="comment.done">
						<md-icon alt="edit comment">play_for_work</md-icon>
					</md-button>
					<md-button class="md-mini button" ng-click="ctrl.archiveComment(comment)" ng-show="comment.done">
						<md-icon alt="edit comment">done</md-icon>
					</md-button>
				</td>
				<td><span ng-class="{'done': comment.done}">{{comment.name}}</span></td>
				<td><span ng-class="{'done': comment.done}">left the following comment: {{comment.comment}},</span></td>
				<td><span ng-class="{'done': comment.done}">changed {{comment.changeDate}}</span></td>
				<td>
				<md-button class="md-icon-button">
					<md-icon alt="edit comment" ng-click="ctrl.editComment(comment)">edit</md-icon>
				</md-button>
				<md-button class="md-icon-button">
					<md-icon alt="delete comment" ng-click="ctrl.deleteComment(comment)">delete</md-icon>
				</md-button>
				</td>
			</tr>
			</table>
		</div>
	</body>
</html>